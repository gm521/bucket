<!DOCTYPE html>
<h1>Bucket Script Compiler</h1>
Bucket script is a programming language
used to program a working computer
in vanilla minecraft

<h2>Links</h2>
<p onclick="document.location.href='gm521.github.io/bucket/docs/'">API docs</p>
<br />
<br />
<br />
Write code in here:
<div class=c id=i style="height: 512px;" contenteditable>
</div>
<br />
<button onclick=compile();>Compile</button>
<br />
<br />
Output
<div class=c style="color: red;" id=d>
</div>
<br />
<br />
<button onclick=clr();>Clear</button>
<canvas id=cnv>
</canvas>
<script>
  if (localStorage.getItem("bucket") == undefined) {
    localStorage.setItem("bucket", "");
  }
  i.innerHTML = localStorage.getItem("bucket");
  setInterval(() => {
    localStorage.setItem("bucket", i.innerHTML);
  }, 500);

  const ctx = cnv.getContext("2d");

  function clr() {
    try {
      i.innerHTML = "";
      d.innerHTML = "";
      localStorage.clear();
    } catch(err) {
      d.innerHTML = err;
    }
  }

  const numbers = [
    '1', '2', '3', '4', '5', '6', '7', '8', '9', '0'
  ];
  const keywords = [
    "func", "if", "while", "let",
  ];
  const brackets = [
    '(', ')', '[', ']', '{', '}', 
  ];
  const operators = [
    '%=', '*=', '+=', '-=', '/=', '<', '=', '>', '!'];

  function compile(src=i.innerText) {
    try {
      alert(src);
      let b = src.split("\n");
      let r = b[0];
      d.innerHTML=`<font color=white>${r}</font>`;
    } catch(err) {
      d.innerHTML = err;
    }
  }
</script>

<style>
  body {
    color: #FFFFFF;
    background-color: #5E5E60;
    font-family: "Arial";
  }
  .c {
    color: #FFFFFF;
    background-color: #2E2E30;
    font-family: "monospace";
    height: 40px;
    border-radius: 10px;
    padding: 10px;
  }
  button {
    background-color: #4E4E4E;
    border-style: solid;
    border-color: black;
    border-radius: 10px;
    padding: 30px;
    font-family: "Arial";
    color: white;
    font-size: 20px;
  }
  canvas {
    position: absolute;
    top: 0;
    left: 0;
    # z-index is 2^16
    z-index: 65535
  }
</style>
